description: >
  Restore cached maven artifacts.
  Works with monorepo as well as single-app-repo.

parameters:
  maven_cache_key_prefix:
    description: "Prefix for the cache-key (used in combination with checksum of pom.xml); no-op with blank prefix"
    type: string
    default: ""

steps:
  - when:
      condition: << parameters.maven_cache_key_prefix >>
      steps:
        - restore_cache:
            keys:
              - << parameters.maven_cache_key_prefix >>-{{ checksum "pom.xml" }}
              - << parameters.maven_cache_key_prefix >>-
